/* =========================================================
   Reports Index — Full CSS (consolidated)
   Scope: Reporting/Index (namespaced with .rp- / .rp-wrapper)
   ========================================================= */

/* --- Cards / base --- */
.rp-wrapper .card {
    border: 1px solid var(--bs-border-color);
}

/* --- Tiles (catalog) --- */
.rp-tile {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: .25rem;
    border: 1px solid var(--bs-border-color);
    background: var(--bs-body-bg);
    padding: 12px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,.045);
    transition: transform .06s ease, box-shadow .12s ease;
    text-align: left;
}

    .rp-tile:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 18px rgba(0,0,0,.06);
    }

    .rp-tile:disabled {
        opacity: .5;
        cursor: not-allowed;
    }

.rp-tile__icon {
    font-size: 22px;
    opacity: .85;
}

.rp-tile__title {
    font-weight: 700;
}

.rp-tile__subtitle {
    font-size: .8rem;
    color: var(--bs-secondary-color);
}

/* --- Presets / buttons --- */
.rp-presets .btn {
    --bs-btn-padding-y: .25rem;
    --bs-btn-padding-x: .5rem;
}

/* --- Select2 base width in forms --- */
.rp-filters .select2-container {
    width: 100% !important;
}

/* --- Interactions / helpers --- */
.is-loading {
    pointer-events: none;
    opacity: .65;
}

.rp-form.d-none {
    display: none !important;
}

/* =========================================================
   Layout fixes: equal height, left panel flow, spacing
   ========================================================= */

/* Equal-height columns: make child cards stretch */
.rp-wrapper .row.align-items-stretch > [class*="col-"] {
    display: flex;
}

    .rp-wrapper .row.align-items-stretch > [class*="col-"] > .card.h-100 {
        flex: 1 1 auto;
    }

/* Left panel container (card body) */
.rp-left {
    display: flex;
    flex-direction: column;
}

    /* Left header: presets align left, action group aligns right */
    .rp-left .rp-presets {
        display: flex;
        flex-wrap: wrap;
        gap: .5rem;
    }

    .rp-left [data-tour="rp.actions"] {
        margin-left: auto;
    }

/* Filter grid: keep cells from collapsing too narrow */
.rp-filters .row.g-3 > [class*="col-"] {
    min-width: 240px;
}

/* Labels tighter and readable */
.rp-filters .form-label {
    margin-bottom: .25rem;
    font-weight: 600;
}

/* Select2 height alignment with Bootstrap controls */
.rp-filters .select2-selection--single {
    min-height: 38px;
    display: flex;
    align-items: center;
    border-color: var(--bs-border-color);
}

.select2-container--default .select2-selection--single .select2-selection__rendered {
    line-height: normal;
}

/* Date inputs → same height as selects */
.rp-filters input[type="date"].form-control {
    height: 38px;
    line-height: 38px;
}

/* Optional: soften left card’s right edge and shadow on wide screens */
.rp-wrapper .card[data-tour="rp.left"] {
    border-right: 0;
}

@media (min-width: 992px) {
    .rp-wrapper .card[data-tour="rp.left"] {
        box-shadow: none;
    }
}

/* =========================================================
   Preview pane (right): size, border, empty state
   ========================================================= */
.rp-preview {
    position: relative;
    border: 1px solid var(--bs-border-color);
    border-radius: .5rem;
    min-height: 800px;
    background: var(--bs-body-bg);
    overflow: hidden;
}

    .rp-preview iframe {
        width: 100%;
        height: 100vh; /* adjust if you want taller preview */
        border: 0;
        display: none; /* shown after first submit */
    }

.rp-empty {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    color: var(--bs-secondary-color);
    font-size: .95rem;
}

/* Keep Preview button readable and stable width */
#rp-generate {
    min-width: 120px;
}

/* =========================================================
   Required/invalid visuals (Select2-friendly)
   ========================================================= */

/* Highlight required selects (when preset demands) */
select.is-required + .select2 .select2-selection--single,
select.is-required + .select2 .select2-selection--multiple {
    outline: 2px dashed var(--bs-warning);
    outline-offset: 2px;
}

/* Invalid state border for Select2 */
.is-invalid + .select2 .select2-selection--single {
    border-color: var(--bs-danger) !important;
}

/* Selected (active) tile state */
.rp-tile.is-active {
    border-color: var(--bs-primary);
    background: color-mix(in srgb, var(--bs-primary) 6%, var(--bs-body-bg));
    box-shadow: 0 6px 20px rgba(0,0,0,.08);
    position: relative;
}

    .rp-tile.is-active::before {
        content: "";
        position: absolute;
        inset-inline-start: 0;
        top: 8px;
        bottom: 8px;
        width: 3px;
        border-radius: 3px;
        background: var(--bs-primary);
    }

    .rp-tile.is-active .rp-tile__icon {
        opacity: 1;
    }

    .rp-tile.is-active .rp-tile__title {
        color: var(--bs-primary);
    }
