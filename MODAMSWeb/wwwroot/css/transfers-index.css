/* =========================================================
   Transfers/Index — Page-specific CSS (full)
   ========================================================= */

/* === KPI cards === */
.card-kpi {
    border: 1px solid rgba(0,0,0,.06);
    box-shadow: 0 6px 18px rgba(0,0,0,.05);
    min-height: 110px;
    transition: transform .06s ease;
}

    .card-kpi:hover {
        transform: translateY(-1px);
    }

.card-kpi--out {
    background: linear-gradient(180deg, rgba(0,153,255,.05), rgba(0,153,255,0));
}

.card-kpi--in {
    background: linear-gradient(180deg, rgba(0,200,83,.05), rgba(0,200,83,0));
}

.card-kpi--search {
    background: linear-gradient(180deg, rgba(108,117,125,.06), rgba(108,117,125,0));
}

.metric {
    font-weight: 700;
    font-size: 1.05rem;
}

.value {
    font-weight: 700;
}

/* === Neutral segmented filters (radio pills) === */
.ams-seg .btn {
    min-width: 9rem;
    border-color: #ced4da;
    color: #495057;
    background: #fff;
}

    .ams-seg .btn:hover {
        background: #f8f9fa;
        border-color: #bfc6cc;
        color: #343a40;
    }

.ams-seg .btn-check:checked + .btn {
    color: #212529;
    background: #eef2f5;
    border-color: #bfc6cc;
    box-shadow: inset 0 0 0 1px rgba(0,0,0,.05);
}

/* === Tables (Transfers only) === */
.table.project-list-main thead th {
    position: sticky;
    top: 0;
    z-index: 1;
}

.table.project-list-main td,
.table.project-list-main th {
    vertical-align: middle;
}

.table.project-list-main tr > td:last-child {
    white-space: nowrap;
}

/* Force taller rows so hover chips fit cleanly */
#tblTransfers.dataTable tbody > tr > td,
#tblTransfers.dataTable tbody > tr > th,
#tblTransfersIncoming.dataTable tbody > tr > td,
#tblTransfersIncoming.dataTable tbody > tr > th {
    padding-top: 0.85rem !important;
    padding-bottom: 0.85rem !important;
    line-height: 1.25 !important;
    vertical-align: middle !important;
}
/* Floor on TR height in case something else squeezes */
#tblTransfers.dataTable tbody > tr,
#tblTransfersIncoming.dataTable tbody > tr {
    min-height: 48px;
}

/* Ensure hover-action pills aren’t clipped by responsive wrappers */
#dvTable-Responsive,
#dvTable-Responsive-Incoming {
    overflow: visible !important;
    position: relative; /* stable stacking context */
}

/* Keep the chip size tuned for Transfers (works with your global DT CSS) */
#tblTransfers .row-actions .btn,
#tblTransfersIncoming .row-actions .btn {
    padding: .35rem .55rem;
}

#tblTransfers .row-actions,
#tblTransfersIncoming .row-actions {
    z-index: 20; /* above cell content for this page */
}

/* DataTables top controls (local tweaks; utils styles the rest) */
.dataTables_length select,
.dataTables_filter input {
    height: 34px;
    line-height: 34px;
}

/* === Charts: keep pies perfectly circular === */
.chart-square {
    width: 100%;
    max-width: 420px; /* adjust if you want larger pies */
    aspect-ratio: 1 / 1; /* square box; keeps circle round */
    margin: 0 auto;
}

    .chart-square > canvas {
        width: 100% !important;
        height: 100% !important;
    }

/* === Store Select2 width fix === */
#StoreId.select2-hidden-accessible + .select2-container {
    width: 100% !important;
}

@media (min-width: 1200px) {
    #StoreId.select2-hidden-accessible + .select2-container {
        min-width: 640px;
    }
}

/* Keep the right group contained */
.filters-group {
    max-width: 100%;
}

/* Date inputs: predictable width (not full row) */
.filter-input {
    width: 200px; /* tweak to taste: 180–240px */
    max-width: 100%;
}

/* IMPORTANT: override any previous wide Select2 rules */
.select2-container {
    width: auto !important; /* let width be driven by element style or below */
    min-width: 260px !important; /* keeps it usable on small screens */
    max-width: 420px !important; /* prevents “stretched” look */
}

    /* Match Bootstrap control height for Select2 single */
    .select2-container .select2-selection--single {
        height: calc(2.25rem + 2px) !important;
    }

    .select2-container .select2-selection__rendered {
        line-height: 2.25rem !important;
    }

    .select2-container .select2-selection__arrow {
        height: 2.25rem !important;
    }

/* Optional: responsive bump for the store dropdown */
@media (min-width: 992px) {
    #ddStores[style] {
        width: 420px !important;
    }
    /* lg+ screens */
}

/* =========================================================
       Asset badges suite (anchors) + "+N more" pill
       Works with Bootstrap 5 variables (light/dark aware)
       ========================================================= */
/* --- Shared metrics & helpers --- */
:root {
    --asset-badge-radius: 999px;
    --asset-badge-pad-y: .34rem;
    --asset-badge-pad-x: .6rem;
    --asset-badge-gap: .25rem;
}

/* Make long serials behave (ellipsis) */
.asset-badge,
.badge.asset-badge,
.badge[data-asset-badge],
.badge[href^="/Users/Assets/AssetInfo/"] {
    max-width: 220px; /* keep rows tidy */
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* --- Base style for ALL asset badges (anchors) ---
       Matches either:
       - <a class="asset-badge ...">
       - <a class="badge text-bg-light rounded-pill ...">
       - <a class="badge ... data-asset-badge>
       - Fallback: href starts with your asset route
    */
.asset-badge,
.badge.asset-badge,
.badge[data-asset-badge],
.badge[href^="/Users/Assets/AssetInfo/"] {
    --_bg: var(--bs-secondary-bg);
    --_text: var(--bs-body-color);
    --_border: var(--bs-border-color);
    --_hover-bg: var(--bs-tertiary-bg);
    --_hover-text: var(--bs-body-color);
    --_focus-ring: rgba(13,110,253,.35); /* bs-primary with alpha */

    display: inline-flex;
    align-items: center;
    gap: var(--asset-badge-gap);
    padding: var(--asset-badge-pad-y) var(--asset-badge-pad-x);
    border-radius: var(--asset-badge-radius);
    border: 1px solid var(--_border);
    background-color: var(--_bg);
    color: var(--_text);
    font-weight: 600;
    line-height: 1;
    letter-spacing: .15px;
    text-decoration: none; /* links should look like pills */
    box-shadow: 0 1px 0 rgba(0,0,0,.04);
    transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease, border-color .12s ease;
}

    .asset-badge:hover,
    .badge.asset-badge:hover,
    .badge[data-asset-badge]:hover,
    .badge[href^="/Users/Assets/AssetInfo/"]:hover {
        background-color: var(--_hover-bg);
        color: var(--_hover-text);
        transform: translateY(-1px);
        box-shadow: 0 6px 18px rgba(0,0,0,.08);
        border-color: color-mix(in srgb, var(--bs-primary), white 75%);
    }

    .asset-badge:active,
    .badge.asset-badge:active,
    .badge[data-asset-badge]:active,
    .badge[href^="/Users/Assets/AssetInfo/"]:active {
        transform: translateY(0);
        box-shadow: 0 2px 8px rgba(0,0,0,.06);
    }

    .asset-badge:focus-visible,
    .badge.asset-badge:focus-visible,
    .badge[data-asset-badge]:focus-visible,
    .badge[href^="/Users/Assets/AssetInfo/"]:focus-visible {
        outline: 0;
        box-shadow: 0 0 0 .2rem var(--_focus-ring), 0 1px 0 rgba(0,0,0,.04);
    }

    /* Optional subtle icon slot if you prepend an icon later */
    .asset-badge .icon,
    .badge.asset-badge .icon {
        opacity: .8;
        font-size: .9em;
    }

/* --- "+N more" pill (span) --- */
.badge-more {
    --_bg: var(--bs-secondary-bg);
    --_text: var(--bs-body-color);
    --_border: var(--bs-border-color);
    --_hover-bg: var(--bs-primary-bg-subtle);
    --_hover-text: var(--bs-primary-text-emphasis);
    display: inline-flex;
    align-items: center;
    padding: calc(var(--asset-badge-pad-y) + 1px) calc(var(--asset-badge-pad-x) + 1px);
    border: 1px solid var(--_border);
    border-radius: var(--asset-badge-radius);
    background-color: var(--_bg);
    color: var(--_text);
    font-weight: 700;
    line-height: 1;
    letter-spacing: .18px;
    cursor: pointer;
    box-shadow: 0 1px 0 rgba(0,0,0,.04);
    transition: transform .12s ease, box-shadow .12s ease, background-color .12s ease, color .12s ease, border-color .12s ease;
}

    .badge-more:hover,
    .badge-more:focus-visible {
        background-color: var(--_hover-bg);
        color: var(--_hover-text);
        border-color: color-mix(in srgb, var(--bs-primary), white 65%);
        transform: translateY(-1px);
        box-shadow: 0 6px 18px rgba(0,0,0,.10);
    }

/* Louder variant if you want it to stand out more */
.badge-more--emphasis {
    background-color: var(--bs-primary-bg-subtle);
    color: var(--bs-primary-text-emphasis);
    border-color: color-mix(in srgb, var(--bs-primary), white 55%);
    box-shadow: inset 0 1px 0 rgba(255,255,255,.28), 0 1px 0 rgba(0,0,0,.05);
}

    .badge-more--emphasis:hover,
    .badge-more--emphasis:focus-visible {
        border-color: color-mix(in srgb, var(--bs-primary), white 45%);
    }

/* --- Tooltips for long overflow lists --- */
.tooltip-lg .tooltip-inner {
    max-width: 520px;
    white-space: normal;
}

/* --- Density variants (optional) --- */
.badge--compact {
    padding: .25rem .5rem;
    font-weight: 600;
}

.badge--relaxed {
    padding: .45rem .75rem;
}

/* --- Motion respect --- */
@media (prefers-reduced-motion: reduce) {
    .asset-badge,
    .badge.asset-badge,
    .badge[data-asset-badge],
    .badge[href^="/Users/Assets/AssetInfo/"],
    .badge-more {
        transition: none;
    }
}

